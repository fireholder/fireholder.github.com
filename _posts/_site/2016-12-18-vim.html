<p>关于Vim的使用技巧网上有一大堆，然而在下记性不好。网上的教程太杂，毕竟不是为自己量身打造真正需要的，再者，每次临时搜索太耗时间。最近在看《Vim实用技巧》，此处笔记只是为了备忘。</p>

<h1 id="part-1">PART 1：一些提高效率的小命令</h1>

<h2 id="section">1. .</h2>
<p>别看错，就是”.”,这是重复上次修改。</p>

<h2 id="section-1">2. *</h2>
<p>查找当前光标下的单词，查找命令可以配合 n 使用，可以跳到下一个匹配项。</p>

<h2 id="section-2">3. 删除</h2>
<p>cw 删除从光标处到单词结尾处的单词。db 反向删除从光标起始位置到单词开头的内容。dw 删除一个单词。x 删除当前字符。dap 删除一个段落。</p>

<p>在插入模式下可以用组合键 &lt;C-w&gt; 删除前一个单词，用&lt;C-u&gt; 删除到行首。(这在shell中也适用)</p>

<ul>
  <li>
    <p>批量替换：可以使用 * 查找所有的匹配项，然后用 cw 删除，输入修改后的值，按&lt;Esc&gt;,再用 n 跳到下一个匹配项，按 . 重复以上一组操作。
如果是想替换所有的可以用 :%s/old/new/g 。</p>
  </li>
  <li>
    <p>ATTENTION：在Vim中 操作符 + 动作命令 = 操作</p>
  </li>
</ul>

<h2 id="guaw">4.gUaw</h2>
<p>把当前单词转换成大写，同理，把w换成p就是当前段落。u 就是小写。</p>

<h2 id="zz">5. zz</h2>
<p>重绘屏幕，并把当前行显示在屏幕正中。</p>

<h2 id="section-3">6. 计算器功能</h2>
<p>在插入模式下输入 &lt;C-r&gt;= ,再输入要运算的表达式，按回车即可把结果插入到当前位置。注意运算符应为英文模式下的运算符。另外 ga 命令可以查看当前字符的十进制和十六进制字符编码。</p>

<h2 id="fchar">7. f{char}</h2>
<p>f 后紧跟一个字符可以查找该字符并跳转。</p>

<h2 id="section-4">8. 可视模式</h2>
<p>输入 v 可进入可视模式。&lt;C-v&gt; 激活面向列块的可视模式。用 o 来重新调整选区边界。可以用来配合 &gt; 进行批量缩进。</p>

<h2 id="r">9. r</h2>
<p>用 r{char} 可替换字符。</p>

<h2 id="section-5">10. 命令行模式</h2>
<ul>
  <li>
    <p>:行号 可以跳到指定行。</p>
  </li>
  <li>
    <p>:{start},{end}p  打印从start行到第end行。其中 p 是打印，没有p则跳转。</p>
  </li>
  <li>
    <p>:6t 把第6行复制到当前行下方。:t6 把当前行复制到第6行下方。</p>
  </li>
  <li>
    <p>:{range}move{address} 移动，其中move可简写成m。</p>
  </li>
  <li>
    <p>@: 重复上次Ex操作。</p>
  </li>
  <li>
    <p>&lt;C-d&gt;自动补全</p>
  </li>
</ul>

<h2 id="section-6">11. 切割窗口</h2>
<p>&lt;C-w&gt;s水平切割, &lt;C-w&gt;v 垂直切割。</p>

<h2 id="section-7">12. 标签页</h2>
<p>:tabedit{filename} 打开新的标签页。{N}gt切换到编号为N的标签页，gt切换到上一个标签页，gT是下一个。:ls 可以查看当前缓存。:tabclose 当前标签页。</p>

<h2 id="section-8">13. 跳转</h2>

<ul>
  <li>
    <p>屏幕行：在hjkl前加g。</p>
  </li>
  <li>
    <p>A 跳到当前行末尾并进入插入模式。I 跳转到行首并进入插入模式。</p>
  </li>
  <li>
    <p>m{a-zA-Z} 对当前字符加mark标记, `{mark} 返回标记mark处。`` 回到上次跳转前的位置，`.回到上次修改的位置。</p>
  </li>
</ul>

<h2 id="section-9">14. 查找</h2>
<ul>
  <li>
    <p>在输入的模式后加 \c ,表示忽略大小写， \C 表示区分大小写。</p>
  </li>
  <li>
    <p>\v 开启very magic模式，即在正则表达式中默认说有特殊字符都有特殊含义。</p>
  </li>
  <li>
    <p>:%s///gn 统计当前文档中的匹配个数。</p>
  </li>
</ul>

<h2 id="section-10">15. 替换</h2>
<p>:%s/old/new/gc 把old都替换为new，但是每次都会询问一遍。</p>

<h1 id="part-2">PART 2:神奇插件在哪里</h1>

<h2 id="youcompleteme">1. YouCompleteMe</h2>
<p>顾名思义，这是一个自动补全插件，安装比较麻烦，需要自己编译，配置过程也极其折腾，然而很好用。</p>

<p>Vim自带的补全可以在插入模式下输入&lt;C-p&gt;或&lt;C-n&gt;触发。
&lt;C-x&gt;&lt;C-l&gt;&lt;Esc&gt;可以补全整行文本。</p>

<h2 id="section-11">2. 拼写检查器</h2>

<p>:set spell 即可高亮错误拼写，用 [s 和 ]s 前后跳转，当光标在拼错单词上时可以用 z= 来获得更正建议。</p>

<h2 id="mru">3. MRU</h2>
<p>&lt;C-p&gt; 触发，可打开最近编辑的文件。</p>

<blockquote>
  <p>参考文献：[1] Drew Neil. Vim实用技巧[M]. 北京:人民邮电大学, 2014.</p>
</blockquote>
